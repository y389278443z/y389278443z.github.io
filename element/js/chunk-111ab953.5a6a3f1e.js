(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-111ab953"],{"004b":function(t,e,i){"use strict";var n=i("7508"),r=i.n(n);r.a},"0a0d":function(t,e,i){t.exports=i("e829")},"1af6":function(t,e,i){var n=i("63b6");n(n.S,"Array",{isArray:i("9003")})},"20fd":function(t,e,i){"use strict";var n=i("d9f6"),r=i("aebd");t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},"2c4b":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footer flexAlign"},[i("div",{class:{active:t.isActive("msite")}},[i("router-link",{attrs:{to:"/msite"}},[i("i",{staticClass:"iconfont icon-shouye"}),i("p",[t._v("首页")])])],1),i("div",{class:{active:t.isActive("search")}},[i("router-link",{attrs:{to:"/search/"+t.geohash}},[i("i",{staticClass:"iconfont icon-faxian"}),i("p",[t._v("发现")])])],1),i("div",{class:{active:t.isActive("order")}},[i("router-link",{attrs:{to:"/order"}},[i("i",{staticClass:"iconfont el-icon-document"}),i("p",[t._v("订单")])])],1),i("div",{class:{active:t.isActive("profile")}},[i("router-link",{attrs:{to:"/profile"}},[i("i",{staticClass:"iconfont icon-geren"}),i("p",[t._v("我的")])])],1)])},r=[],a=(i("7f7f"),i("ed08")),o="geo_hash",s=1500,c={name:"footBottom",data:function(){return{geohash:""}},methods:{isActive:function(t){return this.$route.name===t}},created:function(){var t=this,e=Object(a["b"])(o);e?this.geohash=e:(this.$msg({text:"请重新选择地址信息！"}),setTimeout(function(){t.$router.push({name:"choiceCity"})},s))}},u=c,d=(i("004b"),i("2877")),l=Object(d["a"])(u,n,r,!1,null,"6f6f59a5",null);e["a"]=l.exports},"2f37":function(t,e,i){var n=i("63b6");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},"549b":function(t,e,i){"use strict";var n=i("d864"),r=i("63b6"),a=i("241e"),o=i("b0dc"),s=i("3702"),c=i("b447"),u=i("20fd"),d=i("7cd6");r(r.S+r.F*!i("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,l,f=a(t),h="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,m=void 0!==p,g=0,b=d(f);if(m&&(p=n(p,v>2?arguments[2]:void 0,2)),void 0==b||h==Array&&s(b))for(e=c(f.length),i=new h(e);e>g;g++)u(i,g,m?p(f[g],g):f[g]);else for(l=b.call(f),i=new h;!(r=l.next()).done;g++)u(i,g,m?o(l,p,[r.value,g],!0):r.value);return i.length=g,i}})},"54a1":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("95d5")},7508:function(t,e,i){},"75fc":function(t,e,i){"use strict";var n=i("a745"),r=i.n(n);function a(t){if(r()(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var o=i("774e"),s=i.n(o),c=i("c8bb"),u=i.n(c);function d(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return a(t)||d(t)||l()}i.d(e,"a",function(){return f})},"774e":function(t,e,i){t.exports=i("d2d5")},7915:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"order"},[i("header-top",{ref:"head",attrs:{text:t.text}}),i("div",{ref:"content",staticClass:"order-container"},[i("ul",{staticClass:"order-list"},[t._l(t.orderList,function(e,n){return i("li",{key:n,staticClass:"disFlex",on:{click:function(i){return t.orderDetail(e.restaurant_id)}}},[i("div",{staticClass:"order-img"},[i("img",{staticClass:"img100",attrs:{src:t.imgBaseUrl+"/shopIcon/"+e.restaurant_image_url,alt:""}})]),i("div",{staticClass:"order-info grow1"},[i("div",{staticClass:"order-name alignItem marginB1"},[i("h3",{staticClass:"grow1 textEllipsis"},[t._v(t._s(e.restaurant_name))])]),i("div",{staticClass:"c999 marginB2"},[t._v(t._s(t.changeDate(e.order_time)))]),i("div",{staticClass:"alignItem pte5"},[i("p",[t._v(t._s(e.shop_name)+"商铺的"+t._s(e.total_amount)+"件商品")]),i("p",{staticClass:"ce6"},[t._v("￥"+t._s(e.total_quantity))])]),i("div",{staticClass:"tr pte5 cf5"},[t.isTimeOver(e.order_time)?i("span",{staticClass:"to-pay",on:{click:function(i){return i.stopPropagation(),t.toPay(e.restaurant_id)}}},[t._v("去支付")]):i("span",{staticClass:"to-pay",on:{click:function(i){return i.stopPropagation(),t.getNew(e.restaurant_id)}}},[t._v("再来一单")])])])])}),i("li",{directives:[{name:"show",rawName:"v-show",value:t.loadMore,expression:"loadMore"}]},[t._v("\n                加载更多"),i("span",{staticClass:"el-icon-loading"})]),t.noMore?i("li",[t._v("\n                没有更多了\n            ")]):t._e()],2)]),i("router-view"),i("foot-bottom",{ref:"foot"})],1)},r=[],a=i("75fc"),o=i("0a0d"),s=i.n(o),c=i("f392"),u=i("2c4b"),d=i("365c"),l=i("ed08"),f=i("e490"),h="user_info",v={name:"order",components:{headerTop:c["a"],footBottom:u["a"]},data:function(){return{text:"订单列表",userId:null,offset:0,orderList:[],imgBaseUrl:f["b"],loadMore:!1,isLoading:!1,noMore:!1,headHeight:0,windowHeight:0}},methods:{isTimeOver:function(t){var e=s()();return!(new Date(t).getTime()+9e5<e)},changeDate:function(t){return Object(l["a"])(t,"yyyy-MM-dd hh:mm:ss")},toPay:function(t){this.$router.push({name:"pay",params:{restaurant_id:t}})},getNew:function(t){this.$router.push({name:"shopDetail",params:{id:t}})},orderDetail:function(t){this.$router.push({name:"orderDetail",params:{restaurant_id:t}})},scrollLoad:function(){var t=this;if(!this.noMore&&!this.isLoading){var e=document.documentElement.scrollTop,i=Object(l["c"])(this.$refs.content,"height");e+this.windowHeight-this.headHeight>i&&(this.loadMore=!0,this.offset+=10,this.isLoading=!0,Object(d["h"])(this.userId,this.offset).then(function(e){e.length>=10?t.orderList=[].concat(Object(a["a"])(t.orderList),Object(a["a"])(e)):(t.loadMore=!1,t.noMore=!0),t.isLoading=!1}))}}},created:function(){var t=this;this.userId=JSON.parse(Object(l["b"])(h)).user_id,Object(d["h"])(this.userId,this.offset).then(function(e){t.orderList=e,e.length<10&&(t.noMore=!0)})},mounted:function(){this.headHeight=Object(l["c"])(this.$refs.head.$el,"height"),this.windowHeight=document.documentElement.clientHeight,window.addEventListener("scroll",this.scrollLoad)},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollLoad)}},p=v,m=(i("9eea"),i("2877")),g=Object(m["a"])(p,n,r,!1,null,"3dee9d20",null);e["default"]=g.exports},"95d5":function(t,e,i){var n=i("40c3"),r=i("5168")("iterator"),a=i("481b");t.exports=i("584a").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||a.hasOwnProperty(n(e))}},"9eea":function(t,e,i){"use strict";var n=i("e541"),r=i.n(n);r.a},a745:function(t,e,i){t.exports=i("f410")},c8bb:function(t,e,i){t.exports=i("54a1")},d2d5:function(t,e,i){i("1654"),i("549b"),t.exports=i("584a").Array.from},e541:function(t,e,i){},e829:function(t,e,i){i("2f37"),t.exports=i("584a").Date.now},f392:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yz-header baseBg",class:{fixed:t.fixed}},[i("div",{staticClass:"lc-header"},[i("span",{staticClass:"el-icon-arrow-left header-left-icon",on:{click:t.back}}),i("span",[t._v(t._s(t.text))])])])},r=[],a={name:"headerTop",props:{text:{},fixed:{default:!1}},methods:{back:function(){this.$router.back(-1)}}},o=a,s=i("2877"),c=Object(s["a"])(o,n,r,!1,null,"583480de",null);e["a"]=c.exports},f410:function(t,e,i){i("1af6"),t.exports=i("584a").Array.isArray}}]);